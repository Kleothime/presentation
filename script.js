// Speaker notes for each slide
const speakerNotes = [
    // Slide 0 - Title
    `<strong>Timing: 2 min</strong> | <em>Tone: Energetic teaser, mysterious smile</em>

"Good morning/afternoon, ladies and gentlemen. Thank you for being here today. I'm Kléothime Bourdon, and I'm thrilled to unpack a story that's equal parts riveting and chilling — a tale of ambition, excess, and the shadows it casts over justice itself.

We've all chased dreams that soar high, but what happens when they crash into the ground? Today, we'll explore one of the most explosive scandals in modern history: the Jeffrey Epstein affair. But hold on — we're starting with a detour into the wild blue yonder. Strap in; this is going to be a bumpy ride."

<strong>→ Pause 5 sec to build anticipation. Walk to podium if needed.</strong>`,

    // Slide 1 - Boeing 727
    `<strong>Timing: 2-3 min</strong> | <em>Tone: Playful, enthusiastic — like an aviation geek at a museum</em>

"Let's kick things off with a true aviation icon: the Boeing 727-100, the tri-jet workhorse that redefined short-haul flying back in the Swinging Sixties. Picture this: It's 1960, the Space Age is heating up, and Boeing drops a bombshell order from giants like United and Eastern Airlines. By February 1964, the 727-100 is slicing through the skies — 133 feet of sleek aluminum fury, powered by three roaring engines at the tail, making it the first jet airliner with a built-in APU...

This bad boy could hustle 106 passengers in coach-plus-first-class comfort over 2,250 nautical miles. Over 1,800 were built, turning dusty runways into global highways. It's the classic design that screams nostalgia. Who wouldn't want to hop on one?"

<strong>→ Pause 5 sec, grin and gesture. Ask: "Anyone here a plane spotter?"</strong>

<strong>TRANSITION (deadpan mischief, change slide instantly):</strong> "That's why I'm going to present the Epstein affair."
<em>→ Hold eye contact 3-4 sec for the absurd whiplash. Laughter or gasps expected — lean into it.</em>`,

    // Slide 2 - Who Was Epstein
    `<strong>Timing: 2 min</strong> | <em>Tone: Solemn, measured</em>

"Jeffrey Epstein: A name that evokes not soaring dreams, but plummeting nightmares. Born January 20, 1953, in Brooklyn to working-class parents, he clawed his way from a high school prodigy to a shadowy financier entangled with the world's elite. What began as a rags-to-riches saga twisted into a web of exploitation, sex trafficking, and abuse targeting vulnerable underage girls — dozens, perhaps hundreds over decades.

This isn't mere biography; it's a stark exposé of how power corrupts and institutions falter. We'll dissect his ascent, crimes, enablers, and the fallout, grounded in court filings, FBI logs, and journalistic deep dives. Brace yourselves — the heights he reached only amplified the depths of his depravity."

<strong>→ Pause 5 sec. Slow down for gravity.</strong>`,

    // Slide 3 - Early Life
    `<strong>Timing: 3 min</strong> | <em>Tone: Narrative storytelling</em>

"Epstein's origin story reads like a Horatio Alger novel — until the plot darkens. A math whiz who skipped grades, he dropped out of Cooper Union and NYU without degrees, yet charmed his way into Manhattan's Dalton School in 1974 as a 21-year-old physics teacher.

By 1976, he's at Bear Stearns, rising to limited partner by 1980 through sheer audacity — managing fortunes for arms dealers like Adnan Khashoggi. In 1981, he bolts to launch Intercontinental Assets Group, then J. Epstein & Co. in 1987, a bespoke firm for billionaires only. His haul? Over $500 million, shrouded in Virgin Islands shells. Key alliance: Les Wexner of Victoria's Secret, granting Epstein power of attorney in the '90s.

From dropout to dealmaker, Epstein's network wasn't just financial; it was a fortress of influence."

<strong>→ Rhetorical: "The American Dream, weaponized."</strong>`,

    // Slide 4 - Criminal Network
    `<strong>Timing: 5 min</strong> | <em>Tone: Grave, detailed</em>

"As wealth mounted, so did the monstrosity. Epstein's empire sprawled... But the core horror? A meticulously engineered trafficking pyramid.

From ~1994, Epstein and confidants like Ghislaine Maxwell preyed on girls as young as 14, luring them with 'massage' gigs promising $200-300 cash, only to coerce sexual acts and recruit peers — snowballing into a self-sustaining horror. Palm Beach PD tallied 36 victims by 2005; estimates suggest far more. His Boeing 727-100, dubbed the 'Lolita Express,' ferried over 1,000 flights, logs naming VIPs like Bill Clinton and Prince Andrew — though no charges stuck. Hidden cameras dotted his lairs, allegedly capturing leverage material.

This was no impulse; it was industrialized predation, exploiting fragility for elite gratification."

<strong>→ Pause 10 sec: "At 14, seeking opportunity, finding chains. How does evil scale like this?"</strong>`,

    // Slide 5 - Investigation & Plea
    `<strong>Timing: 3 min</strong> | <em>Tone: Measured outrage</em>

"Cracks appeared in March 2005: A parent's tip about a 14-year-old's abuse ignites a Palm Beach probe. Thirteen months later, detectives storm the mansion, unearthing nude teen photos, a safe of labeled CDs, and victim testimonies from over 40 girls. Evidence screamed federal trafficking.

Enter the 2008 plea: U.S. Attorney Alexander Acosta orchestrates a clandestine deal. Epstein cops to state prostitution solicitation from a minor, netting 13 months in a cushy 'work-release' county jail. No federal charges, no trial, victims sidelined — breaching the Crime Victims' Rights Act. Acosta's infamous quip? Epstein 'belonged to intelligence.' Registered offender, yet globe-trotting unchecked."

<strong>→ "13 months for lifetimes scarred?"</strong>`,

    // Slide 6 - 2019 Arrest
    `<strong>Timing: 3 min</strong> | <em>Tone: Building tension</em>

"Post-plea, Epstein pivots to 'philanthropist': His VI Foundation funnels millions to MIT and Harvard, hosting salons with Nobel minds. Facade intact — until 2018's Miami Herald 'Perversion of Justice' series spotlights survivors, shattering the silence.

July 6, 2019: Epstein lands at Teterboro in his 727; FBI cuffs him on federal sex trafficking and conspiracy counts for 2002-2005 abuses of 'dozens' in NY and FL. Raids yield $70K cash, diamonds, a faux Austrian passport. Bail? Denied — he's a vanishing act with jets and islands. Justice, at last, circled."

<strong>→ Tense: "The net tightens... or does it?"</strong>`,

    // Slide 7 - Death in Custody
    `<strong>Timing: 3 min</strong> | <em>Tone: Fact-focused, careful</em>

"August 10, 2019: Epstein's found hanged in his Manhattan cell. NYC Chief Medical Examiner rules suicide; a DOJ probe affirms, citing gross lapses — no cellmate post-suicide watch, dozing guards, two busted cameras. No murder evidence, despite hired pathologist Michael Baden's fracture doubts — official verdict holds.

Timing? Eerily post-deposition naming accomplices. Theories exploded: Silenced by the powerful? Yet facts finger negligence, not hit squad. Death derailed the trial but spurred payouts: His estate settled with 100+ victims; JPMorgan forked $290M in 2023 for financial facilitation."

<strong>→ "Suicide or sabotage? Evidence says the former; doubt says otherwise."</strong>`,

    // Slide 8 - Maxwell & Associates
    `<strong>Timing: 3 min</strong> | <em>Tone: Analytical</em>

"Enter Ghislaine Maxwell: British socialite, Epstein's ex-pilot-turned-procurer. Robert Maxwell's daughter, she allegedly sourced and groomed victims from the '90s. Nabbed in 2020, convicted 2021 on five trafficking counts — 20 years behind bars, appeal quashed 2024.

Complices: Model scout Jean-Luc Brunel (suicided 2022 pre-trial); enablers like Wexner. Jet logs finger elites — Clinton (26 flights), Trump, Andrew — but zero charges; Andrew settled Giuffre's suit for millions in 2022. A constellation of complicity, half-lit."

<strong>→ "One falls; the web endures."</strong>`,

    // Slide 9 - Implications
    `<strong>Timing: 3 min</strong> | <em>Tone: Reflective</em>

"Epstein's saga scorches: Elite impunity via sweetheart deals, eroded public trust, intelligence whispers unproven but poisonous. #MeToo's roar amplified survivors; reforms followed — NY's Child Victims Act, over $100M in estate compensations. 2024 unseals more names, but full light? Elusive.

Legacy: A siren for vigilance. Power unchecked devours the innocent — no island, no jet, evades the law forever."

<strong>→ "Lessons etched in scandal: We've changed, but enough?"</strong>`,

    // Slide 10 - Conclusion
    `<strong>Timing: 2 min</strong> | <em>Tone: Thoughtful close, inviting</em>

"To recap: From a prodigy's flight to a predator's crash, Epstein's web ensnared lives and exposed fractures in our systems. That Boeing opener? A nod to how even legends can veer off course.

Thank you for your time and attention. Questions? Let's discuss."

<strong>→ Open floor for 3-5 min Q&A.</strong>`
];

document.addEventListener('DOMContentLoaded', () => {
    const slides = document.querySelectorAll('.slide');
    const currentEl = document.getElementById('current');
    const totalEl = document.getElementById('total');
    const progressEl = document.getElementById('progress');
    const prevBtn = document.getElementById('prev-btn');
    const nextBtn = document.getElementById('next-btn');
    const notesToggle = document.getElementById('notes-toggle');
    const notesPanel = document.getElementById('speaker-notes');
    const notesContent = document.getElementById('notes-content');
    const notesClose = document.getElementById('notes-close');

    let current = 0;
    const total = slides.length;
    let notesVisible = false;

    totalEl.textContent = total;
    updateNotes();

    function goToSlide(index, direction) {
        if (index < 0 || index >= total || index === current) return;

        const prev = current;
        current = index;

        slides.forEach(s => s.classList.remove('active', 'exit-left'));

        if (direction === 'next') {
            slides[prev].classList.add('exit-left');
        }

        slides[current].classList.add('active');

        // Re-trigger content animation
        const content = slides[current].querySelector('.slide-content');
        content.style.animation = 'none';
        content.offsetHeight;
        content.style.animation = '';

        currentEl.textContent = current + 1;
        progressEl.style.width = ((current / (total - 1)) * 100) + '%';
        updateNotes();
    }

    function updateSlide(direction) {
        if (direction === 'next' && current < total - 1) {
            goToSlide(current + 1, 'next');
        } else if (direction === 'prev' && current > 0) {
            goToSlide(current - 1, 'prev');
        }
    }

    function updateNotes() {
        if (speakerNotes[current]) {
            notesContent.innerHTML = speakerNotes[current];
        } else {
            notesContent.innerHTML = '<em>No notes for this slide.</em>';
        }
    }

    function toggleNotes() {
        notesVisible = !notesVisible;
        notesPanel.classList.toggle('visible', notesVisible);
    }

    // Button navigation
    nextBtn.addEventListener('click', () => updateSlide('next'));
    prevBtn.addEventListener('click', () => updateSlide('prev'));

    // Notes toggle
    notesToggle.addEventListener('click', toggleNotes);
    notesClose.addEventListener('click', toggleNotes);

    // Keyboard navigation
    document.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowRight' || e.key === ' ') {
            e.preventDefault();
            updateSlide('next');
        } else if (e.key === 'ArrowLeft') {
            e.preventDefault();
            updateSlide('prev');
        } else if (e.key === 'n' || e.key === 'N') {
            toggleNotes();
        } else if (e.key === 'Escape' && notesVisible) {
            toggleNotes();
        } else if (e.key === 'Home') {
            e.preventDefault();
            goToSlide(0, 'prev');
        } else if (e.key === 'End') {
            e.preventDefault();
            goToSlide(total - 1, 'next');
        }
    });

    // Touch/swipe navigation
    let touchStartX = 0;
    let touchStartY = 0;
    document.addEventListener('touchstart', (e) => {
        touchStartX = e.changedTouches[0].screenX;
        touchStartY = e.changedTouches[0].screenY;
    });

    document.addEventListener('touchend', (e) => {
        const diffX = touchStartX - e.changedTouches[0].screenX;
        const diffY = touchStartY - e.changedTouches[0].screenY;
        // Only trigger horizontal swipes
        if (Math.abs(diffX) > 50 && Math.abs(diffX) > Math.abs(diffY)) {
            if (diffX > 0) updateSlide('next');
            else updateSlide('prev');
        }
    });

    // Initialize progress
    progressEl.style.width = '0%';
});
